<!--
   
   COMMENTS

   This code has been commented out.
   
   In practice the code generates a form for the user to assign default values to 
   certain elements and attributes in the 'Input' sheet. 
   
   However, the form is redundant if/when a user understands that s/he can define default
   values by editing the database where the form stores them -- the 'Defaults' sheet.  
   
   I haven't deleted the code because I haven't decided what a standard UI for CloudFire
   will look like. In general, office workers who don't work in data management are 
   intimidated by spreadsheets. So, in the end, we might decide to hide sheets like 
   'Defaults' and use HTML forms like the one below instead.  
       
   --cdb 2019.10.04 
   


<!doctype html>
<html>
<head>
	<link href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
	<style type="text/css">
		body {
			font-family: Arial, Helvetica, sans-serif;
			margin: 0;
			padding: 0;
		}

		* {
			outline: none;
		}

		fieldset {
			border: 1px solid #c5c5c5;
			border-radius: 3px;
			margin: 0 0 15px;
			padding: 10px 10px 0;
		}

		legend {
			font-weight: bold;
		}

		.row {
			margin: 0 0 10px;
		}

		label {
			display: inline-block;
			text-align: right;
			width: 115px;
			padding-right: 10px;
		}

		.ui-textfield {
			background: #fff;
			color: #454545;
			border: 1px solid #c5c5c5;
			border-radius: 3px;
			width: 335px;
			margin: 0;
			padding: .4em;
			cursor: text;
		}

		#save-params-btn {
			border: 1px solid #c5c5c5;
			width: 100%;
			margin: 0;
			padding: 10px 0;
		}
	</style>
</head>
<body>
	<form id="params">
		<fieldset>
			<legend>Header Image</legend>
			<div class="row">
				<label for="header-img-top">Top padding</label>
				<input id="header-img-top" name="header-img-top" type="number" placeholder="Top padding" value="<?= content.header.img.top ?>"/>
			</div>
			<div class="row">
				<label for="header-img-title">Title</label>
				<input id="header-img-title" name="header-img-title" class="ui-widget ui-textfield" type="text" placeholder="Title" value="<?= content.header.img.title ?>"/>
			</div>
			<div class="row">
				<label for="header-img-width">Width</label>
				<input id="header-img-width" name="header-img-width" type="number" placeholder="Width" value="<?= content.header.img.width ?>"/>
			</div>
			<div class="row">
				<label for="header-img-src">Source URL</label>
				<input id="header-img-src" name="header-img-src" class="ui-widget ui-textfield" type="text" placeholder="Source URL" value="<?= content.header.img.src ?>"/>
			</div>
			<div class="row">
				<label for="header-img-link">Link URL</label>
				<input id="header-img-link" name="header-img-link" class="ui-widget ui-textfield" type="text" placeholder="Link URL" value="<?= content.header.img.link ?>"/>
			</div>
			<div class="row">
				<label for="header-img-bottom">Bottom padding</label>
				<input id="header-img-bottom" name="header-img-bottom" type="number" placeholder="Bottom padding" value="<?= content.header.img.bottom ?>"/>
			</div>
		</fieldset>
		<fieldset>
			<legend>Header Text</legend>
			<div class="row">
				<label for="header-title-top">Top padding</label>
				<input id="header-title-top" name="header-title-top" type="number" placeholder="Top padding" value="<?= content.header.title.top ?>"/>
			</div>
			<div class="row">
				<label for="header-title-bottom">Bottom padding</label>
				<input id="header-title-bottom" name="header-title-bottom" type="number" placeholder="Bottom padding" value="<?= content.header.title.bottom ?>"/>
			</div>
		</fieldset>
		<fieldset>
			<legend>Body Text Above Body Image</legend>
			<div class="row">
				<label for="body-heading-top">Top padding</label>
				<input id="body-heading-top" name="body-heading-top" type="number" placeholder="Top padding" value="<?= content.body.heading.top ?>"/>
			</div>
			<div class="row">
				<label for="body-heading-bottom">Bottom padding</label>
				<input id="body-heading-bottom" name="body-heading-bottom" type="number" placeholder="Bottom padding" value="<?= content.body.heading.bottom ?>"/>
			</div>
		</fieldset>
		<fieldset>
			<legend>Body Image</legend>
			<div class="row">
				<label for="body-img-top">Top padding</label>
				<input id="body-img-top" name="body-img-top" type="number" placeholder="Top padding" value="<?= content.body.img.top ?>"/>
			</div>
			<div class="row">
				<label for="body-img-title">Title</label>
				<input id="body-img-title" name="body-img-title" class="ui-widget ui-textfield" type="text" placeholder="Title" value="<?= content.body.img.title ?>"/>
			</div>
			<div class="row">
				<label for="body-img-width">Width</label>
				<input id="header-img-width" name="body-img-width" type="number" placeholder="Width" value="<?= content.body.img.width ?>"/>
			</div>
			<div class="row">
				<label for="body-img-src">Source URL</label>
				<input id="header-img-src" name="body-img-src" class="ui-widget ui-textfield" type="text" placeholder="Source URL" value="<?= content.body.img.src ?>"/>
			</div>
			<div class="row">
				<label for="body-img-link">Link URL</label>
				<input id="header-img-link" name="body-img-link" class="ui-widget ui-textfield" type="text" placeholder="Link URL" value="<?= content.body.img.link ?>"/>
			</div>
			<div class="row">
				<label for="body-img-bottom">Bottom padding</label>
				<input id="body-img-bottom" name="body-img-bottom" type="number" placeholder="Top padding" value="<?= content.body.img.bottom ?>"/>
			</div>
		</fieldset>
		<fieldset>
			<legend>Body Text Below Body Image</legend>
			<div class="row">
				<label for="body-subheading-top">Top padding</label>
				<input id="body-subheading-top" name="body-subheading-top" type="number" placeholder="Top padding" value="<?= content.body.subheading.top ?>"/>
			</div>
			<div class="row">
				<label for="body-subheading-bottom">Bottom padding</label>
				<input id="body-subheading-bottom" name="body-subheading-bottom" type="number" placeholder="Bottom padding" value="<?= content.body.subheading.bottom ?>"/>
			</div>
		</fieldset>
		<fieldset>
			<legend>Body Grey Box</legend>
			<div class="row">
				<label for="body-box-top">Top padding</label>
				<input id="body-box-top" name="body-box-top" type="number" placeholder="Top padding" value="<?= content.body.box.top ?>"/>
			</div>
			<div class="row">
				<label for="body-box-bottom">Bottom padding</label>
				<input id="body-box-bottom" name="body-box-bottom" type="number" placeholder="Bottom padding" value="<?= content.body.box.bottom ?>"/>
			</div>
		</fieldset>
		<fieldset>
			<legend>Footer Staff</legend>
			<div class="row">
				<label for="footer-staff-top">Top padding</label>
				<input id="footer-staff-top" name="footer-staff-top" type="number" placeholder="Top padding" value="<?= content.footer.staff.top ?>"/>
			</div>
			<div class="row">
				<label for="footer-staff-bottom">Bottom padding</label>
				<input id="footer-staff-bottom" name="footer-staff-bottom" type="number" placeholder="Bottom padding" value="<?= content.footer.staff.bottom ?>"/>
			</div>
		</fieldset>
		<button id="save-params-btn">Save</button>
	</form>

	<script src="https://code.jquery.com/jquery-3.3.1.min.js" type="text/javascript"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		$(function() {
			$("input[type='number']").spinner();
			$('#save-params-btn').button();

			$('#save-params-btn').on('click', function(e) {
				e.preventDefault();

				var params = $('#params').serializeArray(),
					values = {};

				$.each(params, function(i, param) {
					values[param.name] = String(param.value).trim();
				});

				google.script.run
					.withFailureHandler(onSaveFailure)
					.withSuccessHandler(onSaveSuccess)
					.setDefaultValues({
						'header': {
							'img': {
								'top': values['header-img-top'],
								'title': values['header-img-title'],
								'width': values['header-img-width'],
								'src': values['header-img-src'],
								'link': values['header-img-link'],
								'bottom': values['header-img-bottom']
							},
							'title': {
								'top': values['header-title-top'],
								'bottom': values['header-title-bottom']
							}
						},
						'body': {
							'heading': {
								'top': values['body-heading-top'],
								'bottom': values['body-heading-bottom']
							},
							'img': {
								'top': values['body-img-top'],
								'title': values['body-img-title'],
								'width': values['body-img-width'],
								'src': values['body-img-src'],
								'link': values['body-img-link'],
								'bottom': values['body-img-bottom']
							},
							'subheading': {
								'top': values['body-subheading-top'],
								'bottom': values['body-subheading-bottom']
							},
							'box': {
								'top': values['body-box-top'],
								'bottom': values['body-box-bottom']
							}
						},
						'footer': {
							'staff': {
								'top': values['footer-staff-top'],
								'bottom': values['footer-staff-bottom']
							}
						}
					});
			});

			$('#params').on('submit', function(e) {
				e.preventDefault();
			});

			function onSaveSuccess() {
				google.script.host.close();
			}

			function onSaveFailure(e) {
				//
			}
		});
	</script>
</body>
</html>


-->